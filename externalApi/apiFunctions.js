let apiData = [
    {
        "patient": {
            "nhi": "test-nhi",
            "name": "Vonni Craigie"
        },
        "date": "04/15/2004",
        "medications": [
            {
                "id": "67f10f9c-195e-498b-b61b-d86130085c89",
                "dosage": "2"
            }
        ]
    },
    {
        "patient": {
            "nhi": "7631063230",
            "name": "Dall Gilberthorpe"
        },
        "date": "01/05/2019",
        "medications": [
            {
                "id": "c8fd412d-02b8-42a3-a45a-56279ff5098c",
                "dosage": "3"
            }
        ]
    },
    {
        "patient": {
            "nhi": "7998229934",
            "name": "Lorinda Klawi"
        },
        "date": "07/18/2001",
        "medications": [
            {
                "id": "bc3887f8-f33d-4b22-9d7a-9c6e5f60f708",
                "dosage": "1"
            }
        ]
    },
    {
        "patient": {
            "nhi": "6326873274",
            "name": "Phil Denizet"
        },
        "date": "03/04/2004",
        "medications": [
            {
                "id": "9c7b2746-1f43-4d43-b5c4-003191e160f2",
                "dosage": "1"
            }
        ]
    },
    {
        "patient": {
            "nhi": "1783805943",
            "name": "Hi Nouch"
        },
        "date": "09/29/2003",
        "medications": [
            {
                "id": "04c44094-d0f4-4b77-87a0-39c83197c860",
                "dosage": "5"
            }
        ]
    },
    {
        "patient": {
            "nhi": "2027446435",
            "name": "Kermit Whitaker"
        },
        "date": "05/27/2000",
        "medications": [
            {
                "id": "5c291b93-2c2c-4c4d-8eb7-5d5227f67c30",
                "dosage": "1"
            }
        ]
    },
    {
        "patient": {
            "nhi": "0993735045",
            "name": "Atlante Milvarnie"
        },
        "date": "12/15/2005",
        "medications": [
            {
                "id": "3c8d2e6d-f9ce-43ff-bb31-2c1e1cda7e7a",
                "dosage": "4"
            }
        ]
    },
    {
        "patient": {
            "nhi": "8895030958",
            "name": "Ilene Francke"
        },
        "date": "07/27/2005",
        "medications": [
            {
                "id": "325de847-adcb-4c9a-b282-f59e89e63074",
                "dosage": "4"
            }
        ]
    },
    {
        "patient": {
            "nhi": "3460325453",
            "name": "Cristina Ziemke"
        },
        "date": "03/25/2019",
        "medications": [
            {
                "id": "51a72a64-1ec6-4833-861f-9306122a31d0",
                "dosage": "2"
            }
        ]
    },
    {
        "patient": {
            "nhi": "5062479509",
            "name": "Marquita Rraundl"
        },
        "date": "02/29/2016",
        "medications": [
            {
                "id": "442b126d-b453-4141-81c0-482d77c91f23",
                "dosage": "5"
            }
        ]
    },
    {
        "patient": {
            "nhi": "2890255115",
            "name": "Nonnah MacKim"
        },
        "date": "05/27/2003",
        "medications": [
            {
                "id": "8aec6629-1e61-4d09-aa31-774f8f7abf50",
                "dosage": "3"
            }
        ]
    },
    {
        "patient": {
            "nhi": "3487681080",
            "name": "Vladamir Mulvaney"
        },
        "date": "07/20/2015",
        "medications": [
            {
                "id": "6624d6e4-c3b2-4d60-b26b-a8c4d3f6c370",
                "dosage": "1"
            }
        ]
    },
    {
        "patient": {
            "nhi": "6383237861",
            "name": "Gunter Meneux"
        },
        "date": "10/05/2004",
        "medications": [
            {
                "id": "54e12e67-61ff-4bc3-8572-da41da0de395",
                "dosage": "1"
            }
        ]
    },
    {
        "patient": {
            "nhi": "2501792491",
            "name": "Edna Cotgrave"
        },
        "date": "12/27/2014",
        "medications": [
            {
                "id": "f38872cf-3237-44f3-93bc-f5265f9f3e22",
                "dosage": "1"
            }
        ]
    },
    {
        "patient": {
            "nhi": "3405871395",
            "name": "Herschel Whittington"
        },
        "date": "03/07/2007",
        "medications": [
            {
                "id": "a71112f7-ea53-4679-b612-39231ba283b0",
                "dosage": "2"
            }
        ]
    },
    {
        "patient": {
            "nhi": "5304032551",
            "name": "Jillana Stigger"
        },
        "date": "05/09/2003",
        "medications": [
            {
                "id": "98bf0c29-1075-47aa-8620-e5eec6a98e66",
                "dosage": "4"
            }
        ]
    },
    {
        "patient": {
            "nhi": "7697368811",
            "name": "Brianne Ceeley"
        },
        "date": "09/25/2006",
        "medications": [
            {
                "id": "4c2c17c2-b04a-4530-a08a-6cb326ba0702",
                "dosage": "4"
            }
        ]
    },
    {
        "patient": {
            "nhi": "3293630154",
            "name": "Ciel Kinker"
        },
        "date": "02/02/2004",
        "medications": [
            {
                "id": "e907b892-e32d-4d25-9f42-3cd3df96be27",
                "dosage": "1"
            }
        ]
    },
    {
        "patient": {
            "nhi": "2155023170",
            "name": "Cristi Croutear"
        },
        "date": "11/20/2022",
        "medications": [
            {
                "id": "0fadd516-4257-43be-82b8-e6d7c6b6a13a",
                "dosage": "4"
            },
            {
                "id": "testttttt",
                "dosage": "1"
            }
        ]
    }
]
function getPrescription(nhi) {
    return apiData.find(p => p.patient.nhi == nhi);
}

function addUpdatePrescription(prescription) {
    const ind = apiData.findIndex(p => p.patient.nhi == prescription.patient.nhi);
    if (ind >= 0) {
        apiData[ind] = prescription;
    } else {
        apiData.push(prescription);
    }

    return apiData[ind];
}

module.exports = {
    getPrescription,
    addUpdatePrescription,
}